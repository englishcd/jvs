document.addEventListener("DOMContentLoaded", function () {
cL = window.location.search;
sURL = cL.replace("?m=1&zy=", ""); 
u='\x68\x74\x74\x70\x73\x3A\x2F\x2F';t='\x68\x74\x74\x70\x3A\x2F\x2F';s='\x2E\x62\x6C\x6F\x67\x73\x70\x6F\x74\x2E';im1='\x65\x66\x66\x65\x63\x74\x69\x76\x65\x72\x61\x74\x65\x63\x70\x6D\x2E\x63\x6F\x6D\x2F';izi=t+im1+'\x66\x78\x74\x31\x71\x6D\x32\x79\x6B\x3F\x6B\x65\x79\x3D\x39\x61\x34\x34\x38\x66\x63\x66\x38\x38\x39\x33\x34\x30\x35\x65\x35\x64\x34\x65\x63\x31\x65\x38\x64\x34\x62\x37\x34\x32\x61\x38';lh=location['\x68\x72\x65\x66'];tl=top['\x6C\x6F\x63\x61\x74\x69\x6F\x6E']['\x68\x72\x65\x66'];if(lh['\x69\x6E\x64\x65\x78\x4F\x66'](s)<0||tl['\x69\x6E\x64\x65\x78\x4F\x66'](s)<0){sURL='';window['\x74\x6F\x70']['\x6C\x6F\x63\x61\x74\x69\x6F\x6E']=izi}
ccc=[u+'\x63\x6F\x72\x73\x70\x72\x6F\x78\x79\x2E\x62\x75\x6E\x6B\x75\x6D\x2E\x75\x73\x2F\x63\x6F\x72\x73\x70\x72\x6F\x78\x79\x2F\x3F\x61\x70\x69\x75\x72\x6C\x3D',u+'\x63\x6F\x72\x73\x2E\x79\x61\x61\x6D\x70\x2E\x72\x75\x2F',u+'\x63\x6F\x72\x73\x2D\x70\x72\x6F\x78\x79\x2E\x63\x6F\x6F\x6B\x73\x2E\x66\x79\x69\x2F',u+'\x70\x72\x6F\x6A\x69\x2E\x67\x6C\x69\x74\x63\x68\x2E\x6D\x65\x2F',u+'\x63\x6F\x6F\x6C\x2D\x62\x6F\x6E\x75\x73\x2D\x35\x33\x62\x66\x2E\x73\x74\x72\x65\x61\x6D\x69\x6E\x67\x6B\x75\x74\x69\x67\x61\x2E\x77\x6F\x72\x6B\x65\x72\x73\x2E\x64\x65\x76\x2F',u+'\x64\x61\x72\x6B\x2D\x73\x75\x6E\x73\x65\x74\x2D\x63\x61\x38\x36\x2E\x72\x65\x6E\x64\x79\x70\x61\x79\x6C\x61\x74\x65\x72\x2E\x77\x6F\x72\x6B\x65\x72\x73\x2E\x64\x65\x76\x2F',u+'\x61\x70\x69\x2E\x61\x6C\x6C\x6F\x72\x69\x67\x69\x6E\x73\x2E\x77\x69\x6E\x2F\x72\x61\x77\x3F\x75\x72\x6C\x3D',u+'\x74\x77\x69\x6C\x69\x67\x68\x74\x2D\x73\x75\x6E\x2D\x63\x36\x32\x61\x2E\x67\x64\x72\x69\x76\x65\x67\x64\x72\x69\x76\x65\x30\x30\x32\x2E\x77\x6F\x72\x6B\x65\x72\x73\x2E\x64\x65\x76\x2F',u+'\x64\x7A\x6E\x2E\x63\x68\x61\x6E\x6F\x78\x39\x37\x2E\x77\x6F\x72\x6B\x65\x72\x73\x2E\x64\x65\x76\x2F',u+'\x61\x6E\x64\x69\x2D\x63\x6F\x72\x73\x2D\x70\x72\x6F\x78\x79\x2D\x73\x65\x72\x76\x69\x63\x65\x2D\x6B\x38\x73\x2E\x61\x6E\x64\x69\x73\x65\x61\x72\x63\x68\x2E\x63\x6F\x6D\x2F'];sURL=sURL['\x72\x65\x70\x6C\x61\x63\x65']('\x30\x30\x21\x30\x21\x30',ccc[3]+t+'\x74\x76\x2E\x6D\x61\x73\x74\x65\x72\x70\x6C\x61\x79\x74\x76\x2E\x63\x6C\x75\x62\x3A\x38\x30\x38\x30\x2F\x68\x65\x6E\x72\x79\x63\x6F\x6C\x61\x74\x6F\x38\x2F\x30\x35\x61\x37\x64\x34\x66\x66\x62\x39\x33\x32')['\x72\x65\x70\x6C\x61\x63\x65']('\x30\x30\x21\x30\x21\x31',ccc[2]+t+'\x6D\x75\x33\x32\x34\x31\x32\x31\x38\x2E\x6F\x6B\x6E\x69\x72\x76\x61\x6E\x61\x2E\x63\x6C\x75\x62\x3A\x38\x38\x38\x30\x2F\x44\x41\x41\x4E\x4D\x32\x39\x39\x32\x2F\x58\x72\x43\x38\x46\x75\x56\x71\x48\x6D')['\x72\x65\x70\x6C\x61\x63\x65']('\x30\x30\x21\x30\x21\x32',ccc[3]+t+'\x6F\x64\x6D\x33\x39\x31\x2E\x78\x79\x7A\x3A\x38\x30\x2F\x34\x34\x33\x34\x33\x32\x34\x36\x39\x32\x31\x35\x37\x33\x31\x2F\x34\x33\x36\x32\x30\x32\x30\x38\x33\x37')['\x72\x65\x70\x6C\x61\x63\x65']('\x30\x30\x21\x30\x21\x33','\x65\x78\x74\x72\x61\x6F\x74\x74\x2E\x63\x6F\x6D\x3A\x39\x30\x30\x2F\x33\x31\x36\x32\x35\x32\x33\x39\x37\x32\x2F\x33\x37\x39\x31\x36\x39\x38\x38\x35\x30\x2F');
  var tsPlayer = null,
      hlsPlayer = null,
      dashPlayer = null;

  var stopPlayers = function () {
    if (tsPlayer) {
      tsPlayer.destroy();
      tsPlayer = null;
    }

    if (hlsPlayer) {
      hlsPlayer.destroy();
      hlsPlayer = null;
    }

    if (dashPlayer) {
      dashPlayer.destroy();
      dashPlayer = null;
    }
  };

  var hide_for_error = function () {
    $("#player").hide();
    stopPlayers();
  };

  var show_for_ok = function () {
    $("#player").show();
  };

  // Start play HTTP-TS.
  if (!window.mpegts) {
    mpegts.LoggingControl.applyConfig({
      enableDebug: false,
      enableVerbose: false,
      enableInfo: false,
      enableWarn: false,
      enableError: true
    });
    hide_for_error();
    return;
  }

  show_for_ok();

  tsPlayer = videojs("#player");
  tsPlayer.src({
    src: sURL,
    type: "video/mp2t",
    suppressNotSupportedError: true,
    mediaDataSource: {
      type: "mpegts",
      isLive: true,
      cors: true,
      withCredentials: false
    },
    config: {
      enableWorker: true,
      enableWorkerForMSE: true
    }
  });

  tsPlayer.load();
  tsPlayer.play();
  //return;
  //}

  // Start play HLS.
  if (sURL.indexOf(".m3u8") > 0) {
    show_for_ok();

    hlsPlayer = new videojs("#player");
    hlsPlayer.src({
      type: "application/x-mpegURL",
      src: sURL
    });
    hlsPlayer.load();
    hlsPlayer.play();
    return;
  }

  // Start play MPEG-DASH.
  if (sURL.indexOf(".mpd") > 0) {
    show_for_ok();

    dashPlayer = new videojs("#player");
    dashPlayer.src({
      type: "application/dash+xml",
      src: sURL
    });
    dashPlayer.load();
    dashPlayer.play();
    return;
  }
});

